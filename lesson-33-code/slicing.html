<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #byte_content{
            margin: 5px 0;
            max-height: 100px;
            overflow-y: auto;
            overflow-x: hidden
        }
        #byte_range {margin-top: 5px}
    </style>
</head>
<body>
    <input type="file" name="file" id="files">Read bytes:
    <span class="readVytesButtons">
        <button data-startbyte="0" data-endbyte="4">1-5</button>
        <button data-startbyte="5" data-endbyte="14">6-15</button>
        <button data-startbyte="6" data-endbyte="7">7-8</button>
        <button>entire file</button>
    </span>
    <div id="byte_range"></div>
    <div id="byte_content"></div>
   
    <script>
        function readBlob(opt_startByte, opt_stopByte){
            var files = document.getElementById('files').files
            if(!files.length) {
                alert('Please select a file')
                return
            }
            var file = files[0]
            var start = parseInt(opt_startByte) || 0
            var stop = parseInt(opt_stopByte) || file.size - 1
            var reader = new FileReader()

            // if we use onloadend, we need to check the ready state
            reader.onloadend = (e) => {
                if(e.target.readyState == fileReader.DONE) { //done == 2
                    document.getElementById('byte_content').textContent = e.target.result
                    document.getElementById('byte_range').textContent = 
                    ['Read bytes', start + 1, ' - ', stop + 1,' of ', file.size, 'byte-file'].join('')
                }
            }
            var blob = file.slice(start, stop + 1)
            reader.readAsBinaryString(blob)
        }

        document.querySelector('.readyBytesButtons').addEventListener('click', (e) => {
            if(e.target.tagName.toLowerCase() === 'button') {
                var startByte = e.target.getAttribute('data-startbyte')
                var endByte = e.target.getAttribute('data-endbyte')
                readBlob(startByte, endByte), false
            }
        })
    </script>
</body>
</html>